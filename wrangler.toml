name = "blog-devpad"
main = "packages/server/src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[vars]
ENVIRONMENT = "production"
DEVPAD_API = "https://devpad.io/api"

[[d1_databases]]
binding = "DB"
database_name = "blog-devpad-db"
database_id = "placeholder-update-after-creation"

[[r2_buckets]]
binding = "CORPUS_BUCKET"
bucket_name = "blog-devpad-corpus"

[env.staging]
name = "blog-devpad-staging"
[env.staging.vars]
ENVIRONMENT = "staging"
DEVPAD_API = "https://staging.devpad.io/api"

[[env.staging.d1_databases]]
binding = "DB"
database_name = "blog-devpad-db-staging"
database_id = "placeholder-update-after-creation"

[[env.staging.r2_buckets]]
binding = "CORPUS_BUCKET"
bucket_name = "blog-devpad-corpus-staging"

[dev]
port = 8787
local_protocol = "http"
